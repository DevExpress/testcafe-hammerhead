<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <script src="/hammerhead.js" class="script-hammerhead-shadow-ui"></script>
</head>
<body>
<script type="text/javascript">
    var hammerhead = window['%hammerhead%'];

    hammerhead.get('./utils/destination-location').forceLocation('http://localhost/sessionId/http://target_url');
    hammerhead.start({ crossDomainProxyPort: 2000 });

    var INSTRUCTION = hammerhead.get('../processing/script/instruction');
    var callMethod  = window[INSTRUCTION.callMethod];

    callMethod(top, 'postMessage', ['1', 'https://example.com']);
    callMethod(top, 'postMessage', ['1']);
    callMethod(top, 'postMessage', ['0', 'http://example.com']);
    callMethod(top, 'postMessage', ['1', 'https://sub.example.com']);
    callMethod(top, 'postMessage', ['1', '*']);

    var channel  = new MessageChannel();
    var transfer = channel.port1;

    callMethod(top, 'postMessage', [
        {
            message: '1',
            port:    channel.port1,
        },
        'https://example.com',
        [transfer]
    ]);
</script>
</body>
</html>
